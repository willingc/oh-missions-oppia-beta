<div ng-controller="ReaderExploration">
  <div class="feedback-button" ng-click="openFeedbackModal()">
    <center>
      <br><br><br>Feedback
    </center>
  </div>
  <div class="modal hide fade" id="feedbackModal" ng-model="feedbackModalShown">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        &times;
      </button>
      <h3>Give Feedback</h3>
    </div>

    <div class="modal-body">
      <h4>Give feedback to the exploration creator</h4>
      <!-- TODO(sfederwisch): make this true<i> They will be given the exploration history already.</i><br />-->
      <textarea ng-model="feedback" rows="6" cols="200" placeholder="Put your feedback here"></textarea>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal">Cancel</button>
      <input type="submit" class="btn" value="Submit" ng-click="submitFeedback(feedback)"/>
    </div>
  </div>

  <div class="oppia-content">
    <div class="oppia-exploration-header">
      <h3><[title]></h3>
    </div>
    <div class="oppia-iframe-container oppia-exploration">
      <a ng-click="initializePage()" class="pull-right">
        Start again?
      </a>

      <br>
      <br>

      <div ng-repeat="response in responseLog track by $index">
        <div id="<[{true: 'response', false: 'conversation'}[$last && !finished]]>">
          <div ng-show="response"
               class="ng-class: $last && 'oppia-response' || 'oppia-conversation-log'"
               ng-bind-html="response">
          </div>
        </div>
      </div>

      <br>

      <div ng-show="finished" class="oppia-response">
        Congratulations, you've finished this exploration!
        Would you like to <a ng-click="initializePage()">play again?</a>
      </div>

      <div ng-hide="finished">
        <!-- This iframe must always be contained within a div in which it is
        the only element. For more information, please see the
        ReaderExploration.js file. -->
        <iframe id="inputTemplate" width="100%"
                frameborder="0" height="2000px"></iframe>
      </div>
    </div>
  </div>

</div>
